1999-01-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.66 released.

1999-01-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* vegetation.C (reset_canopy_structure): Allow up to 1% divergence
	between `height' and `HvsLAI (LAI)'.

1999-01-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* geometry.C (interval_border): Fix bug which always gave the last
	node point.

	* parser_file.C (load_derived): Skip to end if superclass is unknown.

	* action_harvest.C, action_sow.C (doIt): Indent message.
	* crop_std.C (tick): Indent DS messages.

1999-01-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* action_with.C (doIt): Fix bug which prevented the restriction
	from taking effect.

	* Version 0.65 released.

1999-01-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* uzrichard.C (richard): Update `Theta_new' below groundwater
	according to `h_new', not `h'.
	(richard): Fix one-off error for pressure button.
	(richard): Move update of Theta in groundwater.
	* soil_water.C (tick): Add it here instead.


1999-01-22  Per Abrahamsen  <abraham@dina.kvl.dk>

	* geometry.C (interval_plus, interval): Use `false' instead of 0
	in assertions. 

	* groundwater.C (load_syntax): New function.
	* groundwater_static.C (GroundwaterStaticSyntax): Call it.
	* groundwater.C (output): Log groundwater table.
	* groundwater_file.C: New file.
	* lib/log.dai ("Groundwater"): New log.

1999-01-21  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.64 released.

1999-01-21  Per Abrahamsen  <abraham@dina.kvl.dk>

	* lib/log.dai ("PMSW"): Now log definition.

1999-01-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* hydraulic_mod_C.C (M): Fix for `h > h_b'.

1999-01-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* uzmodel.h, uzlr.C, uzrichard.C, uznone.C (tick): Make `top' and
	`bottom' const. 
	* soil_water.C (tick): Update `surface' and `groundwater' here
	instead.
	* uzmodel.h, uzlr.C, uzrichard.C, uznone.C, surface.C
	(flux_top_on, flux_top_off): Made them const.
	* surface.C (flux): Made it mutable.

1999-01-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.63 released.

1999-01-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* event.C: Give crop a name.

	* eventqueue.C: Merged JRI changes.

	* event.C: Merged with JRI version.

	* action_irrigate.C (ActionIrrigateSyntax): Add dimensions and
	descriptions. 

1999-01-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* all: Assume working exception handling.

	* Makefile: Removed support for gcc 2.7.2.

1999-01-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.62 released.

1999-01-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* parser_file.C (load): Allow empty dai files.

	* Version 0.61 released.

1999-01-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* lib/mini.dai ("mini"): Don't set parameters, use default values.

	* soil_water.C (load_syntax): The model implementing Richards
	Equation is named `richards', not `richard'.

	* syntax.C (check): Check that element is in a library, before
	querying for its syntax.

1999-01-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.60 released.

1999-01-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* crop_std.C: SH Update.
	
	* cdaisy.C (daisy_daisy_run): Catch exceptions.
	(daisy_daisy_tick): Ditto.
	(daisy_daisy_tick_action): Ditto.
	(daisy_daisy_tick_weather): Ditto.
	(daisy_daisy_tick_columns): Ditto.
	(daisy_daisy_tick_column): Ditto.
	(daisy_daisy_tick_logs): Ditto.
	(daisy_daisy_tick_time): Ditto.

	* cmain.c (main): Support `-v'.

1999-01-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.59 released.

1999-01-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* column_std.C (ColumnStandardSyntax): Added more default values.
	* organic_matter.C (load_syntax): Ditto.
	* denitrification.C (load_syntax): Ditto.

	* Version 0.58 released.

1999-01-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* log.h, log.C, log_alist.C (open_alist, close_alist): New function.
	* soil_chemicals.C (output): Use them.

	* Makefile (TEXT): Added `tlink32.ini'.
	(daisy-src.zip): Removed `tlink32.ini'.

	* action_spray.C (ActionSpraySyntax): Call `check_alist'.

	* chemical_std.C, chemical.h (diffusion_coefficient, solute_alist,
	decompose_rate, decompose_heat_factor, decompose_water_factor,
	decompose_CO2_factor): New function.
	* chemicals.C, chemicals.h (lookup, find_missing): New functions.
	* soil_chemical.C, soil_chemical.h: New module.
	* soil_chemicals.C, soil_chemicals.h: New module.
	* Makefile (INTERFACES): Add them.
	* column_std.C: Add `SoilChemicals' submodule.
	* chemicals.C, chemicals.h (amount): New public member function.
	* bioclimate_std.C, bioclimate.h (chemicals_down): New virtual
	member function.
	* soil_NH4.C, soil_NH4.h: Cleanup.
	* soil_NO3.C, soil_NO3.h: Ditto.

1998-12-30  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.57 released.

1998-12-30  Per Abrahamsen  <abraham@dina.kvl.dk>

	* field.C (divide): Mark clones objects.
	* log_checkpoint.C (done): Print cloned objects.

	* log_checkpoint.C (LogCheckpointSyntax): Don't assume `finished'
	has been added to the `condition' library yet.

	* weather.C (deposit): Added assertions.
	* column_std.C (irrigate_top): Ditto.
	(irrigate_surface): Ditto.
	(fertilize): Ditto.

1998-12-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* action_merge.C, action_divide.C: New files.
	* Makefile (COMPONENTS): Add them.
	* field.C, field.h (divide, merge): New functions.
	* log_clone.C, log_clone.C: New files.
	* Makefile (INTERFACES): Add them.

	* log_alist.C, log_alist.h: New files.
	* Makefile (INTERFACES): Add them.
	* log_checkpoint.C: Use them.

	* Version 0.56 released.

1998-12-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* log_checkpoint.C (check): Added wrappers for more Filter::check
	functions to shut up BCC.

	* am.C: Add another explicit template instanciation for BCC.

	* Version 0.55 released.

1998-12-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* om.C (output, load_syntax, OM): Make `initial_fraction' a state
	variable. 
	(get_initial_C_per_N): New function.
	(OM): Use it.

1998-12-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* crop_std.C, crop_old.C, crop_sold.C, crop.h (initialize): Take
	`organic_matter' parameter.
	* vegetation.h, vegetation.C, column_std.C: Update callers.

	* daisy.C (tick): Tick hour before logs.

	* Version 0.54 released.

1998-12-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* crop_std.C (initialize): Call `NitContent'.
	* soil_water.C (initialize): Also initialize `h_old' and `Theta_old_'.
	Fix error when `h' is specified.
	
	* field.C (Implementation): Use `map_create'.

	* vegetation.C, vegetation.h (initialize): New function.
	* column_std.C (initialize): Call it.

	* log.h (open_entry): Take alist argument.
	* log_checkpoint.C, log_file.C, log_table.C, field.C: Update callers.

	* log_checkpoint.C: Implemented.

1998-12-27  Per Abrahamsen  <abraham@dina.kvl.dk>
	
	* am.C, am.h: Use `Librarian'.
	* organic_matter.C: Update caller.
	* action_fertilize.C: Ditto.
	* event.C (Do_It): Ditto.

	* am.C, am.h (AM, create, initialize).  Split `AM::initialize'
	from `AM::AM', and update `AM::create' to call it.

	* crop_std.C (CropStandardSyntax): Added missing `LAImRat'
	parameter to syntax. 

	* am.C (AM::Implementation::Lock::load_syntax): New function.
	(AM_init): Use it.

	* am.C, am.h (AM, create): Remove `Time' argument.
	* column_std.C, column.h (fertilize): Update callers.
	* field.C, field.h (fertilize): Ditto.
	* action_fertilize.C: Ditto.
	* event.C (Do_It): Ditto.

	* am.C (AM_init): Converted some `Syntax::Const' to
	`Syntax::State' in order to allow logging them.

	* surface.h, surface.C (Implementation): Store internal details
	here. 

	* nrutil.C: Cleanup unused argument warnings.

1998-12-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* all: Checpoint related changes.

	* syntax.h (Syntax::category): Split `Syntax::Optional' into
	`Syntax::OptionalState' and `Syntax::OptionalConst'.
	* all: Updated callers.
	
	* condition_daisy.C (struct ConditionFinished): New condition.

	* Version 0.53 released.

	* field.C: Various Borland C fixes.
	
1998-12-22  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.52 released.

	* frame.h, frame.C: Removed.
	* field.h, field.C: Added.
	* all: Updated.

	* Version 0.51 released.

1998-12-22  Per Abrahamsen  <abraham@dina.kvl.dk>

	* log_table.C: Make it possible to log strings.

1998-12-21  Per Abrahamsen  <abraham@dina.kvl.dk>

	* bioclimate_std.C, bioclimate.h (harvest_chemicals): New
	function.
	* crop_std.C (harvest): Call it. 
	* vegetation.h, vegetation.C (harvest): New bioclamate argument.
	* crop.h, crop_std.C, crop_old.C, crop_sold.C (harvest): Pass it.
	* column_std.C: Pass it.

	* harvest.C, harvest.h: Add chemicals to harvest.

	* chemicals.C, chemicals.h (cleanup): New function.
	* bioclimate_std.C (ChemicalDistribution): Call it.

	* chemicals.C (output): Don't log nothing.

	* Version 0.50 released.

1998-12-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* bioclimate_std.C (tick): Call `ChemicalDistribution'.

1998-12-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.49 released.

1998-12-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* nrutil.C, nrutil.h: New files.

	* Makefile (INTERFACES): Add them.
	* pt_pmsw.C: New model.
	* Makefile (COMPONENTS): Add it.

	* chemicals.C, chemicals.h: New files.
	* Makefile (INTERFACES): Add them.
	* bioclimate_std.C: Use them.
	* action_spray.C: New file.
	* Makefile (COMPONENTS): Add it.
	* column.h (Column::spray): New pure virtual member.
	* column_std.C (ColumnStandard::spray): Implement it.
	* bioclimate.h (Bioclimate::spray): New pure virtual member.
	* bioclimate_std.C (BioclimateStandard::spray): Implement it.

	* log.h (output_submodule): Allow `log_only' argument.

1998-12-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* snow.C, snow.h (storage): Renamed from `get_storage'.
	* bioclimate_std.C (get_snow_storage): Update caller.
	* snow.C, snow.h (evaporation, temperature, precipitation): Made
	const. 

	* bioclimate_std.C: Renamed `crops' to `vegetation'.

	* geometry.C, geometry.h (interval_border): New member function.
	* log_table.C (LogEntry::flux_at): New parameter.
	* log_table.C (LogEntry::content_at): Renamed from `at'.

	* Version 0.48 released.

1998-12-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* horizon.C (check_alist): Check that `humus > 0'.
	(load_syntax): Register it.

1998-12-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* syntax.C (add_check): New functions.
	(Implementation): Use lists of check functions.
	* geometry.C (load_syntax, check_alist): Use it.
	* soil.C (load_syntax, check_alist): Ditto.
	* organic_matter.C (load_syntax, check_alist): Ditto.
	* column_std.C (ColumnStandardSyntax): Call them.

	* Version 0.47 released.

1998-12-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* syntax.h (add_submodule_sequence): Allocate alist on
	stack instead of heap.
	(add_submodule): Ditto.
	* syntax.C (add): Copy alist to heap.

	* hydraulic_B_BaC_Bimodal.C (Theta): Check for `h > 0'.
	* hydraulic_M_BaC_Bimodal.C (Theta): Ditto.

	* Version 0.46 released.

1998-12-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* uzrichard.C (richard): Don't try for convergence if tridia gives
	absurd results.  Set down the time step instead.

	* lib/log.dai: Update logs for new bioclimate and vegetation
	models. 

1998-12-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* csmp.C (operator): Added assertions.

1998-12-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* vegetation.C, vegetation.h: New files.  Class `Vegetation'
	replaces `CropList' from `crop.h'.
	* bioclimate.h, bioclimate_std.C, column_std.C, pet.h, pet.C,
	pet_PM.C, pet_makkink.C, pet_weather.C, pt.h, pt_std.C:
	Update callers.  
	
	* Version 0.45 released.

1998-12-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* log_table.C: Import `Filter::check' functions.
	* filter_none.C: Ditto.
	* filter_all.C: Ditto.

	* weather_file.C (tick): Make `end' an `int' instead of `char'.

	* soil.C, soil.h, geometry.C, geometry.h (check_alist): Renamed
	from `check'. 

	* common.C (Options): Give up on parser errors.

	* pmain.C: Support hourly values.

	* crop_std.C (harvest): Remove debug message.

	* action_harvest.C (struct ActionHarvest): Fix outout message.

1998-12-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* all: Merged SH changes.
	* geometry.C (check): Add static check for zplus.
	* soil.C (check): Call it.  Add static check for horizon.
	* column_std.C (ColumnStandardSyntax): Call it.

	* bioclimate_std.C, bioclimate_new.C: Removed the original
	`bioclimate_std.C', and replaced it with `bioclimate_new.C'. 
	* bioclimate_PM.C: Removed.

	* crop.C (CropList::cover): New function.
	* bioclimate_new.C (CanopyStructure): Use it.

	* pt.h, pt.C: New component.
	* Makefile (INTERFACES): Added it.
	* pt_std.C: New model.
	* Makefile (COMPONENTS): Added it.
	* bioclimate_new.C: Added it.

1998-12-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* surface.C (tick): Renamed from `evaporation'.
	(exfiltration): Renamed from `get_exfiltration'.
	(evap_soil_surface): Renamed from `get_evap_soil_surface'.
	(evap_pond): New function.
	* bioclimate_PM.C, bioclimate_std.C (WaterDistribution): Ditto. 
	* column_std.C: Ditto.
	* surface.C (evap_pond): New function.

	* column.h (irrigate_top, irrigate_surface): Replace `irrigate'. 
	* column_std.C (irrigate_top, irrigate_surface): Ditto.
	* bioclimate.h (irrigate_top, irrigate_surface): Ditto.
	* bioclimate_PM.C (irrigate_top, irrigate_surface): Ditto.
	* bioclimate_std.C (irrigate_top, irrigate_surface): Ditto.
	* action_irrigate.C: Update callers.
	* event.C (IrrigateEvent::Do_It): Ditto.

1998-12-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* pet_PM.C: New model.
	* pet_weather.C: New model.

	* bioclimate.C, bioclimate.h (CanopyResistance,
	RefCanopyResistance, ZeroPlaneDisplacement,
	RoughnessHeight_Momentum, RoughnessHeight_Heat,
	AerodynamicResistance, RefAerodynamicResistance): Added FAO
	utility functions. 
	* weather.C, weather.h (LatentHeatVaporization,
	PsychrometricConstant, AtmosphericPressure, AirDensity,
	SaturationVapourPressure, SlopeVapourPressureCurve,
	CloudinessFactor_Arid, CloudinessFactor_Humid, RefNetRadiation):
	Ditto. 

	* net_radiation.C, net_radiation.h: new component.

1998-11-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* crop.C, crop.h (Crop::albedo): New virtual member function.

	* surface.C, surface.h, soil.C, soil.h: Moved `EpFactor' and
	`EpInterchange' from soil.C to surface.C.

1998-11-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.44 released.

1998-11-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* options.C, options.h, main.C:  Moved option parsing from main.C
	to options.h.

1998-11-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* crop_std.C (CropStandardSyntax): Default SpRtLength was integer,
	should be floating point.

	* Version 0.43 released.

1998-11-24  Per Abrahamsen  <abraham@dina.kvl.dk>

	* lib/Makefile (DAISY): Removed `crop-old.dai'.

	* All: SH update.

1998-11-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.42 released.

1998-11-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* crop_std.C (CropStandardSyntax): Fix default for `SpRtLength'. 

	* Version 0.41 released.

	* crop_std.C (CropStandardSyntax): Add description and default for
	`SpRtLength'. 
	(RootDensity): Multiply SpRtLength with 100 instead of 10.

1998-11-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.40 released.

1998-11-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* lib/log.dai ("Crop Production"): Output N for each crop part.

1998-11-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* lib/mini.dai: New file.
	* lib/Makefile (DAISY): Add it.
	* lib/Makefile (stdref.dai): New target.

	* pet_makkink.C: New file.
	* Makefile (COMPONENTS): Add it.

	* pet.C, pet.h: New files.
	* Makefile (INTERFACES): Add them.

1998-11-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.39 released.

1998-11-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* lib/sugarbeet.dai: Remamed from sbeet.dai.

	* Version 0.38 released.

	* lib/*.dai: Renamed crops.

1998-11-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.37 released.

1998-11-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* crop_std.C (CanopyStructure): Insert checks.

	* bioclimate_new.C (CanopyStructure): Only call if LAI > 0.0.
	* bioclimate_std.C (RadiationDistribution): Ditto.

	* Version 0.36 released.

1998-11-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* crop_std.C (CropStandardSyntax): Add `description' parameter.

	* Version 0.35 released.

1998-11-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* lib/grass2.dai ("Grass, DS=2"): New file.

	* lib/Makefile (NEWCROPS): Added `crass2.dai'

	* Makefile (INTERFACES): Add `common.C' here.
	(HEADERS): Remove `common.h' here.

	* common.C: New file.
	(_assert): New function.

1998-11-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* bioclimate_std.C (WaterDistribution): Reset irrogation.

	* action_irrigate.C: Split into `irrogate_top' and
	`irrigate_surface'. 

	* organic_matter.C (load_syntax): Use new form for default alist
	in sequence.

	* crop_std.C: Merged SH's cleanup changes.

	* options.h, options.C (Options::message, Options::warning,
	Options::error): New static member functions.
	* all: Use them.

1998-11-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.34 released.

1998-11-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* crop_std.C: Merged SH's changes for continues calculation of N
	in crop parts.

1998-11-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* all: Put default values for members of the alist sequence in the
	syntax. 

	* Version 0.33 released.

1998-11-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* crop_std.C (Parameters::CrpNPar::fixate_factor): New parameter.
	(NitrogenUptake): Use it.

	* pmain.C (redraw): No labels outside axis.

	* bioclimate_std.C (WaterDistribution): Don't whine about small
	negative throughfall.

1998-11-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* column_std.C (check): Deleted.
	(ColumnStandardSyntax): Add OrganicMatter::check to its syntax.

	* Makefile (COMPILE): Don't warn about uninitialized.

	* uzrichard.C (richard): Allow cw2 to be zero (undo 1998-10-30
	change). 

	* hydraulic_M_BaC_Bimodal.C: New file.
	* hydraulic_B_BaC_Bimodal.C: New file.
	* Makefile (COMPONENTS): Add them.

	* Version 0.32 released.

1998-11-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* soil_water.h (SoilWater::reserve): New member.
	* soil_water.C (load_syntax): Define it.
	(SoilWater): Initialize it.
	(tick): Use it.

	* uzrichard.C (q_darcy): Throw an exception instead of calling
	assert when checking for enough nodes around 3/4 depth.

1998-11-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* hydraulic_B_BaC.C (Cw2): Wrong expression.
	* hydraulic_M_BaC.C (Cw2): Ditto.

1998-11-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* all: Use `char*' instead of `runtime_error' for exceptions.

	* time.C (valid): Don't specify default parameter here.

	* crop_std.C (NetProduction): Use LAImRat to kill leafs.

1998-11-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* pmain.C: New `limits' window to set axis limits.

	* time.C (valid): New static member function.

	* cmain.c (main): Use `exit' instead of `return' from `main'.

1998-10-30  Per Abrahamsen  <abraham@dina.kvl.dk>

	* uzrichard.C (richard): Fix pressure top connection.
	(richard): Make cw2 at least 1e-5, works better in saturated
	conditions that way.

	* surface.C (accept_top): Always accept exfiltration.
	Warn only for negative NO3 or NH4.

1998-10-29  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Makefile: (daisy-hdr.zip): Removed.
	(dist): Don't use it.

1998-10-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Makefile (dist): Also copy `main.C' and `cmain.c' to ftp.

1998-10-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.31 released.

1998-10-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Makefile (daisy-hdr.zip): New target.
	(dist): Use it.

1998-10-21  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.030 released.

1998-10-21  Per Abrahamsen  <abraham@dina.kvl.dk>

	* solute.C (initialize): Fix initialization from ppm.

	* syntax.h (check_list_fun): New typedef.
	* syntax.C (check): Use it.
	* geometry.C (add): Check that the bottom is below the top.
	(check_layers): New function.
	(add_layer): Use it.

	* adsorption_vS_S.C, adsorption_linear.C, adsorption_langmuir.C,
	* adsorption_freundlich.C (C_to_M): Use `dry_bulk_density' instead
	of `rho_mineral'.

	* parser_file.C (load_list): Don't crash if we are overwriting an
	alist sequence.

1998-10-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* pmain.C: New `monochrome' view option.

1998-10-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* horizon.C (Implementation): Fix dry_bulk_density to take
	porosity into account.

	* organic_matter.C (Implementation): Check for `!='
	Syntax::Singleton instead of `==' Syntax::Sequence.

	* crop_std.C (AssimilatePartitioning): Don't allow 
	0.0 < f_SOrg < 1e-5. 
	(harvest): Only partition N to SOrg iff WSorg > 0.1 g/m².

1998-10-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* log_file.C (print): Use array delete.

1998-10-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* pmain.C: Make widgets members when possible, to ensure they are
	deleted properly.

	* uzrichard.C (UZRichardSyntax): Demand 10 time better convergense.

1998-10-08  Per Abrahamsen  <abraham@dina.kvl.dk>

	* crop_std.C (CropFun): Removed typedef.

1998-10-07  Per Abrahamsen  <abraham@dina.kvl.dk>

	* soil_water.h (Theta_left): New member function.

	* crop_std.C (PotentialWaterUptake): Leave at least h_wp.

	* weather_file.C (tick): Don't eat last newline.

	* crop_std.C: Use average soil temperature.
	(DevelopmentStage): Use day_length + 1.0.
	(InitialLAI): Don't stop DS when there is too little WLeaf.

1998-10-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* daisy.C (load_syntax): Fix parameter for manager syntax.

	* nitrification_soil.C (tick): No negative nitrification.

1998-10-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* pmain.C: New main file, a simple plot program.
	* gmain.C: New main file, a Daisy library browser.
	* Makefile: Add support for them.

	* time.h: Don't include "common.h".  This makes `time' a
	stand-alone module.

1998-09-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* daisy.C (load_syntax): Add descriptiobs.
	* harvest.C (load_syntax): Ditto.

	* syntax.C: Added `description' and `dimension' properties to
	syntax entries. 

1998-09-22  Per Abrahamsen  <abraham@dina.kvl.dk>

	* alist.C (size): Use reference counting.
	* crop_std.C (CropStandardSyntax): Add alists after filling them.
	* crop_sold.C (CropSoldSyntax): Ditto.
	* crop_old.C (CropOldSyntax): Ditto.

	* syntax.C (entries): new function.

1998-09-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* mathlib.C: No implicit int in egcs 1.1.

1998-09-03  Per Abrahamsen  <abraham@dina.kvl.dk>

	* weather_file.C (tick): Don't "use >> char"; it works differently
	on BCC and GCC.

	* weather_hourly.C: Keep track of number of values we are
	averaging over when accumulating, to deal less bad with missing
	values. 

	* main.C (main): Add exception handling.

1998-09-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.029 released.

1998-09-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* soil.C (load_syntax): No default max rooting depth.

1998-08-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* surface.C (accept_top): Ignore tiny (< 1e-99) amounts.

1998-08-24  Per Abrahamsen  <abraham@dina.kvl.dk>

	* weather_file.C (tick): Ensure we found the right day.
	Don't call `put' functions if we haven't read new data.

	* weather.C (Implementation): Initialize `daily_global_radiation'.

	* crop_std.C (Variables::Phenology): Add `day_lenght' and
	`partial_day_length'. 

1998-08-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* weather.h (Weather::put_global_radiation): New function.
	* weather.C, weather_file.C, weather_hourly.C, weather_none.C: Use it.

	* chemical.C, chemical.h: New files.

1998-06-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* nitrification_soil.C (tick): Don't take the last.  More assertions.
	* nitrification_solute.C (tick): Ditto.

1998-06-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* transport_none.C (tick): Assert non-negative stuff left.

	* crop_old.C (SoluteUptake): Assert we didn't took more than there
	were left.

1998-06-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* adsorption_vS_S.C (class Adsorption_vS_S): Added units.
	(K_planar): New number.

	* crop_sold.C (SoluteUptake): Leave at least 1e-8 after uptake.
	* crop_old.C (SoluteUptake): Ditto.

1998-06-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* adsorption_vS_S.C (M_to_C): Move assertion inside else clause. 

1998-06-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* crop_std.C (harvest): Really update height and LAI after
	harvest. 
	(Variables): New Canopy member `Offset'.

	* all: Renamed `adsorbtion' to `adsorption'.

1998-05-22  Per Abrahamsen  <abraham@dina.kvl.dk>

	* om.C (add): Expand array at end.
	(add): Don't multiply C with dz in each lay.
	(load_syntax, output): Add "N" log parameter.

	* om.C (add): Added assertions for mass conservation.
	* am.C (add, mix, swap, distribute): Ditto.

1998-05-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.028 released.

1998-05-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* organic_matter.C (load_syntax): Change default `min_AM_C' to 5
	kg C / Ha.

	* horizon.C (initialize): Use `to-1' instead of `to' for remaining
	elements. 

	* parser_file.C (load_list): Also count errors in nested files.

	* soil_heat.C (tick): Also calculate in groundwater.

	* organic_matter.C (load_syntax): Support `initial_SOM'.
	(Implementation::Implementation): Obey it.

	* transport_cd.C (tick): Complete 1998-05-19 change.

	* uznone.C (class UZNone): Don't check that asser_top succeded.

1998-05-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.027 released.

1998-05-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* main.C (main): Don't try to create Daisy if there were parser
	errors. 
	* cmain.c (main): Ditto.

	* surface.C (load_syntax): Define `total_matter_flux'.
	(accept_top): Use it.
	(Surface): Initialize it.
	* surface.h (class Surface): Define it.
	* uznone.C (tick): Call `top.accept_top'.
	* transport_cd.C (tick): Support stuff flux without water flux.

	* uzrichard.C (output): Mark output as log only.
	* uzlr.C (output): Ditto.

	* log_table.C: Added `dimension' and `description' parameters.

	* log_table.C (struct LogEntry): Made `from' and `to' non-const.
	(struct LogTable): Add `from' and `to' parameters.
	(LogTable::LogTable): Overwrite `from' and `to' for entries if
	specified. 
	(LogTableSyntax): Add `from' and `to' parameters.

	* log_table.C (LogEntry::full): New member.
	(LogEntry::full_value): Ditto.
	(LogEntry::output): Update it.
	(LogEntry::done): Print it.
	(LogEntry::LogEntry): Initialize it.
	(LogTableSyntax): Define it.

	* parser_file.C (load_derived): Add "error" type if the superclass
	is not found.
	(load_list): Check for "error" type.
	* syntax.C (check): Ditto.

	* condition_daisy.C: New file.
	* Makefile (COMPONENTS): Added.

1998-05-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.026 released.

1998-05-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* horizon.C (heat_conductivity): Check that we are inside the
	arrayes. 
	(initialize): Fill the K arrays outside the res and sat
	boundaries. 

	* crop_sold.C, crop_old.C, crop_std.C (PotentialWaterUptake): No
	uptake at saturated conditions. 

1998-05-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.025 released.

1998-05-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.024 released.

1998-05-14  Per Abrahamsen  <abraham@dina.kvl.dk>

	* log_table.C (struct LogEntry): New flag `accumulate'.

	* hydraulic_mod_C.C (M): Divide by b instead of multiplying by b.

	* soil.C (Cw2): Don't return 0, return a very small
	number instead.

	* crop_old.C: Add `H2OUpt' log parameter.
	(PotentialWaterUptake): Multiply with 2 pi.
	* crop_std.C (PotentialWaterUptake): Multiply with 2 pi.
	* crop_sold.C (PotentialWaterUptake):  Multiply with 2 pi.

1998-05-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.023 released.

1998-05-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* bioclimate_std.C (WaterDistribution): Check that `Through_fall'
	is non-negative.

1998-05-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* log_table.C (struct LogEntry): Support `at' parameter.
	(LogTableSyntax): Define it.

	* Version 0.022 released.

1998-05-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* soil_heat.C (tick): Limit size of calculation to unsaturated
	zone.  Don't trust groundwater module on this.

1998-05-11  Per Abrahamsen  <abraham@dina.kvl.dk>

	* bioclimate_std.C (WaterDistribution): Count snow and irrigation
	as part of net precipitation.

1998-05-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.021 released.

1998-05-05  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cdaisy.C: (daisy_daisy_get_column): Added some assertions.
	(daisy_column_put_water_pressure): Ditto.

	* cdaisy.h: Added more description.

1998-05-04  Per Abrahamsen  <abraham@dina.kvl.dk>

	* uznone.C: New file.
	* Makefile (COMPONENTS): Added.

1998-05-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.020 released.

1998-05-01  Per Abrahamsen  <abraham@dina.kvl.dk>

	* soil_water.C, soil_water.h (class SoilWater):  Added functions
	for communication with external model.
	* surface.C, surface.h: Ditto.
	* snow.C (get_h2o): Ditto.
	* bioclimate_std.C, bioclimate.C, bioclimate.h: Ditto.
	* colsumn_std.C, column.h: Ditto.  Call them.
	* cdaisy.C: Call them.

1998-04-22  Per Abrahamsen  <abraham@dina.kvl.dk>

	* parser_file.C (get_number): Better error handling.
	(get_integer): Ditto.

1998-04-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cdaisy.C: Added dummies for unimplemented API functions.

1998-04-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.019 released.

1998-04-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cdaisy.C (daisy_alist_size_alist): Workaround for non-sequence
	alist value of an alist sequence kludge.

	* soil.C (load_syntax): Don't add alist element.

	* parser_file.C (Implementation::error_count): New member.
	(Implementation::error): Update it.
	(Implementation::Implementation): Initialize it.
	* parser.C, parser.h (Parser::error_count): New virtual function.
	* parser_file.C, parser_file.h (ParserFile::error_count): Define it.

1998-04-16  Per Abrahamsen  <abraham@dina.kvl.dk>

	* condition_time.C (struct ConditionHour): New condition.
	(struct ConditionMDay): Ditto.
	(struct ConditionYDay): Ditto.
	(struct ConditionMonth): Ditto.
	(struct ConditionYear): Ditto.
	(ConditionTimeSyntax::ConditionTimeSyntax) Add them.

1998-04-15  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cdaisy.C, cdaisy.h (daisy_weather_put_precipitation):
	Implement.  Fix formal parameter name.
	(daisy_weather_put_air_temperature): Ditto.
	(daisy_weather_put_precipitation): Ditto.

1998-04-06  Per Abrahamsen  <abraham@dina.kvl.dk>

	* crop_std.C (tick): Move call to `DevelopmentStage' to after
	`NetProduction'. 
	(DevelopmentStage): No developmend when DS < 1 and there is no
	netto production of leafs.

	* crop_std.C (harvest): Don't harvest leafs on stub.

	* crop_std.C (Vernalization): Replace `DSLim1' and `DSLim2' with a
	single `DSLim' parameter.
	Made `Vernal' optional.
	(NetProduction): New parameter `Large_RtDR'.
	(RSR): New function and parameter.
	(AssimilatePartitioning): Use it.

	* lib/wwheat.dai (WinterWheat): Adjust.
	* lib/sbarley.dai (SpringBarley): Ditto.
	* lib/grass.dai (Grass): Ditto.

1998-04-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.018 released.

1998-04-02  Per Abrahamsen  <abraham@dina.kvl.dk>

	* geometry.C (add_layer): Use layer `end' instead of `size' for
	specifying layers.
	(initialize_layer): Ditto.

1998-03-31  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.017 released.

1998-03-31  Per Abrahamsen  <abraham@dina.kvl.dk>

	* daisy.C (load_syntax): Add "description".

	* Weather.C, weather.h, soil_heat.C (max_Ta_yday): Renamed from
	`omega_offset'. 

	* soil_heat.C (bottom): Expect `omega_offset' in days instead of
	radians. 

1998-03-30  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.016 released.

1998-03-30  Per Abrahamsen  <abraham@dina.kvl.dk>

	* bioclimate_PM.C: New file.
	* Makefile (COMPONENTS): Added.

	* weather_hourly.C: New file.
	* Makefile (COMPONENTS): Added.

	* weather_file.C (WeatherFile): Initialize `line'.

1998-03-28  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.015 released.

1998-03-28  Per Abrahamsen  <abraham@dina.kvl.dk>
	
	* biobioclimate.h, bioclimate_std.C, crop_std.C, crop_old.C,
	* crop_sold.C:
	(hourly_global_radiation) Renamed from `GlobalRadiation'.
	(daily_global_radiation) Renamed from `DailyRadiation'.
	(day_length): Renamed from `DayLength'.
	
	* bioclimate_std.C (WaterDistribution): Also use irrigation
	temperature. 

	* weather.C, weather.h, weather_simple.C, weather_none.C,
	* weather_file.C, action_irrigate.C, bioclimate_std.C
	(daily_air_temperature): Renamed from `AirTemperature'.
	(hourly_air_temperature): Added.
	(day_length): Renamed from `DayLength'.
	(day_cycle): Renamed from `DayCycle'.
	(rain): Renamed from `Rain'.
	(snow): Renamed from `Snow'.
	(cloudiness): Renamed from `Cloudiness'.
	(vapor_pressure): Renamed from `VaporPressure'.
	(wind): Renamed from `Wind'.
	
1998-03-27  Per Abrahamsen  <abraham@dina.kvl.dk>

	* weather.C, weather.h, weather_simple.C, weather_none.C,
	* weather_file.C, bioclimate_std.C:
	(hourly_global_radiation) Renamed from `GlobalRadiation'.
	(daily_global_radiation) Renamed from `DailyRadiation'.
	(Weather::hourly_global_radiation): Added.
	(WeatherFile::output): Removed.
	(WeatherFile::GlobalRadiation): Removed.
	(WeatherFile::A, WeatherFile::B): Removed.

	* weather_none.C (class WeatherNone::DailyRadiation): Don't
	multiply with 24.

1998-03-26  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.014 released.

	* common.h (BORLAND_PERMISSIONS): New flag.
	* log_table.C (LogTable::LogTable): Obey.
	* log_file.C (LogFile::print): Ditto.
	* printer_file.C (PrinterFile::Implementation::Implementation): Ditto.

	* printer_file.C (print_library_file): Remove bogus debug code.

1998-03-25  Per Abrahamsen  <abraham@dina.kvl.dk>

	* cdaisy.C, cdaisy.h (daisy_alist_set_string_at): Don't uncomment.

	* cdaisy.C (daisy_alist_set_integer_at): Use `<=' instead of `<'.
	(daisy_alist_set_flag_at): Ditto.
	(daisy_alist_set_number_at): Ditto.
	(daisy_alist_set_string_at): Ditto.

	* daisy.h (syntax, alist): New members.
	* daisy.C, daisy.h (initialize): New function.
	(check): Remove `syntax' argument.
	* main.C (main): Update caller.
	* cdaisy.C, cdaisy.h (daisy_daisy_create): Call `Daisy::initialize'.
	New `syntax' argument. 
	(daisy_daisy_check): No `syntax' argument.

	* cmain.c (main): Update caller.
	* bugmain.c (main): Update caller.

1998-03-24  Per Abrahamsen  <abraham@dina.kvl.dk>

	* crop.h (CropList): Make it a deque.
	* column_std.C (tick): Rotate the queue in each tick.

	* crop.h, crop_std.C, crop_old.C, crop_sold.C (DM): New function. 
	* column_std.C, column.h (crop_dm): New function.
	* condition_crop.C (struct ConditionDMOver): New condition.

	* crop_std.C (DevelopmentStage): Only call `Vernalization' when
	required. 
	(CanopyPhotosynthesis): Replaces assertion with explict error message.
	(SoluteUptake): Always leave 1e-8.
	
	* Version 0.013 released.

	* Version 0.012 released.

	* log_table.C (struct LogEntry): Check "*" with path, not name.
	(struct LogTable): [CONST_DELETE] Don't delete members.

	* cdaisy.C (daisy_library_derive): Add "type" attribute.

	* weather.C (output): Log all data.
	(tick, DayLength, DayCycle): Move calculation of `day_length' and
	`day_cycle' to `tick'.
	* weather_simple.C (tick): Call `Weather::tick'.
	* weather_none.C (tick): Ditto.
	* weather_file.C (tick): Ditto.
	* bioclimate_std.C (tick): Don't pass time to `Weather::DayLength'.


1998-03-23  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Makefile (SOURCES, OBJECTS): Added `bugmain.c'.

	* printer_file.C (is_complex): Last item in a total order is never
	complex. 
	(struct FoundEntry): Renamed from `Entry' to avoid conflict with
	`log_table.C'. 

	* Version 0.011 released.

	* printer_file.C (PrinterFile): Delete `impl' after use.
	(print_library_file): Quote library member names if necessary.

1998-03-22  Per Abrahamsen  <abraham@dina.kvl.dk>

	* log_table.C: New file.
	* Makefile (COMPONENTS): Add it.

	* log_file.C, log.h: Pass strings by reference.

	* log_file.C, log.h (open_unnamed): New function.
	(close_unnamed): New function.
	* log.h (output_vector): Use it.
	* log_file.C, log.h (open_derived): Renamed from `open'.
	(close_derived): New function.
	* log.h (output_derived): Use it.

	* syntax.C, syntax.h (total_order): New function.
	* parser_file.C (load_list): Use it.
	* printer_file.C (is_complex): Ditto.

	* log.C (done): New function.
	* daisy.C (tick_logs): Call it.

	* syntax.C (check): Handle missing alist sequence.
	* parser_file.C (load_list): Support string sequences.

	* frame.h (class Frame): No default parent.
	* log_file.C, log.h (match): Add `frame' parameter.
	* daisy.h (class Daisy): New `frame' member.
	* daisy.C (tick_logs): Use it.

1998-03-21  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.010 released.

	* column_std.C, column.h (crop_ds): New function.
	* crop.h (Crop): Make `DS' and `DSremove' public.
	* condition_crop.C: New file.
	* condition_soil.C: New file.

	* Version 0.009 released.

	* library.h (derive_function): New typedef.
	* library.C, library.h (Library): Add `derive' argument.
	(load_syntax): New function.
	* cdaisy.C (daisy_load): Call it.
	* main.C (main): Ditto.
	* tkmain.C (class TkDaisyState): Ditto.
	* daisy.C (load_syntax): Don't load library syntax here.
	* library.h (Implementation): Store it here.
	* librarian.h (class Librarian::Librarian): Pass `derive_type' to
	`Content'.
	(class Librarian::Content::Content): Pass `derive' to `Library'. 
	* am.C (AM_init): Pass `derive_type' to `Library'.
	* organic_matter.C (output): Use `AM::library' instead of creating
	a dummy library.
	* syntax.C, syntax.h (derive, derive_fun): Removed.
	(add_library): Don't take derive argument.
	* parser_file.C (load_list): Don't call `Syntax::derive'.
	* library.C, library.h (add_derived): New function.
	* parser_file.C (add_derived): Call it.
	* librarian.h (Librarian::add_library): Removed.

	* printer_file.C (PrinterFileSyntax): Add `PrinterFile' to
	`Printer' library.

	* Parser.C, parser.h: Use `Librarian' to manage.
	* parser_file.C, parser_file.h: Change derived.
	* daisy.C (load_syntax): Change callers.

	* printer.C: Don't include "alist.h".

1998-03-20  Per Abrahamsen  <abraham@dina.kvl.dk>

	* event.C: Removed warnings.

	* frame.C, frame.h (class Frame): New files.
	* Makefile (INTERFACES): Added them.
	* condition.C, condition.h: Use it.
	* action.C, action.h: Use it.  Convert to standard library.
	* minimanager.h, minimanager.C: Adjusted.
	* cdaisy.C (daisy_library_derive): Adjusted.
	(daisy_daisy_tick_action): Pass dummy `Frame' to `Action::doIt'.
	* log_file.C (match): Pass dummy `Frame' to `condition::match'.
	* action_fertilize.C, action_harvest.C, action_irrigate.C,
	* action_lisp.C, action_sow.C, action_stop.C, action_tillage.C,
	* action_with.C, condition_logic.C, condition_time.C: Adjusted
	derived objects.

	* condition_logic.C (class ConditionAnd): Fixed logic.

	* Version 0.008 released.

	* cdaisy.C, cdaisy.h (daisy_version): New function.

	* crop.C, crop.h: Use librarian to manage Crop.
	* crop_std.C, crop_old.C, crop_sold.C: Updated derived classes.
	* column_std.C, daisy.C, action_sow.C, event.C: Updated callers.

	* crop_std.C (CanopyStructure): Reverted previous change.  They
	already started at the ground.
	* bioclimate_std.C (RadiationDistribution): Enabled assertions.

1998-03-19  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Version 0.007 released.

	* parser_file.C (get_number, get_integer): Read one character a
	time in order to know the column number.

	* crop_std.C (CanopyStructure): Make LAIvsH start from the ground
	instead of the top.
	(CanopyPhotosynthesis): Adjust.
	* bioclimate_std.C (BioclimateStandard): Ditto.
	(RadiationDistribution): Ditto.

	* printer_file.C: Include <algorithm>.

1998-03-18  Per Abrahamsen  <abraham@dina.kvl.dk>

	* weather.C, weather.h (cloudiness, vaporpressure, wind): New
	functions. 

	* parser_file.C, parser_file.h (class ParserFile): Pass strings by
	reference.

	* crop_std.C (var.RootSys.nitrogen_stress): New log variable.
	(NetProduction): Use it.
	(par.Devel.defined_until_ds): New parameter.
	(CropHeight): Use it.
	(par.Canopy.rs_min, par.Canopy.rs_max): New parameters.

	* crop.C, crop.h, crop_std.C (water_stress, nitrogen_stress,
	rs_min, rs_max): New functions. 

	* lib/sbarley.dai: Fixed parameters.

	* lib/grass.dai: New file.
	* lib/wwheat.dai: New file.
	* lib/crop.dai: New file.
	* lib/Makefile (DAISY): Added.

1998-03-17  Per Abrahamsen  <abraham@dina.kvl.dk>

	* bioclimate.C, bioclimate.h: Converted to library.
	* bioclimate_std.C: New file.
	* Makefile (COMPONENTS): Add it.
	* column_std.C: Update caller.
	* daisy.C (load_syntax): Add it.

	* Makefile (daisy-src.zip): Added `tlink32.ini'.

	* Version 0.006 released.

	* crop_std.C (CanopyPhotosynthesis): Added assertions.

	* csmp.C (integrate_stupidly): Add 10 extra intervals.

1998-03-13  Per Abrahamsen  <abraham@dina.kvl.dk>

	* filter.C, filter.h (check_derived): New function.
	(lookup_derived): New function.
	* log.h (output_derived): use them
	(output_list): Ditto, add library argument.
	* daisy.C (tick_logs): Ovey new calling convention.
	* organic_matter.C (output): Ditto.
	* column_std.C (output): Ditto.
	Filter names can now match superclasses as well.
	
	* filter.h, filter.C, filter_all.C, filter_array.C,
	filter_checkpoint.C, filter_none.C, filter_some.C: Pass strings
	per reference. 

	* cdaisy.C, cdaisy.h (daisy_alist_clone): New function.

	* crop_old.C (output): Don't checkpoint `LogPotCanopyAss' and
	`LogCanopyAss'.

	* crop_std.C: Added `enable_water_stress', 
	`enable_N_stress', `LogPotCanopyAss', and `LogCanopyAss'.

1998-03-12  Per Abrahamsen  <abraham@dina.kvl.dk>

	* log_file.C (output_point): Removed.
	(output (CSMP)): Don't call.  Use csmp directly instead.
	(class LogFile): Removed from interface.
	* log.h (class Log): Ditto.
	* csmp.C (output): Removed.
	* csmp.C: Removed unnecessary includes.
	* csmp.h: Ditto.

1998-03-10  Per Abrahamsen  <abraham@dina.kvl.dk>

	* crop_old.C: (Parameters): Added `enable_water_stress' and
	`enable_N_stress'.
	(CropOldSyntax): Ditto.
	(tick): Obey `enable_water_stress'.
	(NetProduction): Obey `enable_N_stress'.
	(Variables): Added `LogPotCanopyAss' and `LogCanopyAss'.
	(output): Ditto.
	(RecCrpAux): Ditto.
	(CropOldSyntax): Ditto.
	(tick): Ditto.

	* crop_old.C: Removed compile time flag `USE_HOURLY_PHOTO'.

	* snow.C (tick): Use `approximate' to compare floating point
	values. 

	* cdaisy.h: Typo.

	* Version 0.005 released.

	* alist.C: Removed exception handling.

	* filter_some.C (lookup): Replace THROW with assert (false).
	* library.C (lookup): Ditto.
	(syntax): Ditto.

	* Version 0.004 released.

	* printer_file.C (print_comment): Support multiline comments.

	* printer.h (class Printer): Added `print_comment', `print_alist',
	`print_library_file', and `good' as pure virtual members.

	* cdaisy.C, cdaisy.h (daisy_alist_save): Deleted.
	(daisy_library_save_file): Ditto.
	(daisy_printer_create_file): New function.
	(daisy_printer_comment): Ditto.
	(daisy_printer_alist): Ditto.
	(daisy_printer_library_file): Ditto.
	(daisy_printer_delete): Ditto.
	(daisy_printer_good): Ditto.

1998-03-09  Per Abrahamsen  <abraham@dina.kvl.dk>

	* Makefile (cvs): Add version to ChangeLog.
	(TEXT): Add `TODO' and `ChangeLog'.
	(wc): Only count sources.

	* solute.C (initialize): Initialize M from ppm and
	dry_bulk_density. 

	* horizon.C (dry_bulk_density): New function.
	* horizon.h: Ditto.
	* soil.h: Ditto.

	* Makefile: Removed DHI comments.

	* ChangeLog: New file.

